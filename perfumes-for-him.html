<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Copy all styles from perfumes-for-her.html */
      // ...existing styles...
    </style>
  </head>
  <body>
    <h1>Perfumes for Him</h1>
    <h2>Discover Your Signature Scent</h2>

    <section class="product-showcase">
      <div class="fragrance-grid">
        <!-- Row 1 -->
        <div class="fragrance">
          <img src="scented.png" alt="Sauvage Dior" />
          <p>Inspired by Sauvage Dior</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Sauvage Dior"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Bvlgari Man" />
          <p>Inspired by Bvlgari Man</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Bvlgari Man"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="212 VIP Man" />
          <p>Inspired by 212 VIP Man</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="212 VIP Man"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Christian Dior Sauvage Elixir" />
          <p>Inspired by Christian Dior Sauvage Elixir</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Christian Dior Sauvage Elixir"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <!-- Row 2 -->
        <div class="fragrance">
          <img src="scented.png" alt="Diesel Bad" />
          <p>Inspired by Diesel Bad</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Diesel Bad"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Diesel Only The Brave" />
          <p>Inspired by Diesel Only The Brave</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Diesel Only The Brave"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Dunhill Desire Blue" />
          <p>Inspired by Dunhill Desire Blue</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Dunhill Desire Blue"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Givenchy Blue" />
          <p>Inspired by Givenchy Blue</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Givenchy Blue"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <!-- Row 3 -->
        <div class="fragrance">
          <img src="scented.png" alt="Hermes Terre Dhermes" />
          <p>Inspired by Hermes Terre Dhermes</p>
          <p class="price">R180.00</p>
          <button
            class="add-to-cart"
            data-name="Hermes Terre Dhermes"
            data-price="180.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Hugo Boss" />
          <p>Inspired by Hugo Boss</p>
          <p class="price">R150.00</p>
          <button class="add-to-cart" data-name="Hugo Boss" data-price="150.00">
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Scandal For Men" />
          <p>Inspired by Scandal For Men</p>
          <p class="price">R150.00</p>
          <button
            class="add-to-cart"
            data-name="Scandal For Men"
            data-price="150.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>

        <div class="fragrance">
          <img src="scented.png" alt="Jo Malone Pomegranate Noir " />
          <p>Inspired by Jo Malone Pomegranate Noir</p>
          <p class="price">R200.00</p>
          <button
            class="add-to-cart"
            data-name="Jo Malone Pomegranate Noir"
            data-price="200.00"
          >
            Add to Cart (<span class="item-count">0</span>)
          </button>
        </div>
      </div>
    </section>

    <div class="more-button-container">
      <a href="perfumes-for-him-more.html" class="more-button"
        >View More Perfumes</a
      >
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Initialize cart from localStorage
        let cart = [];

        function loadCart() {
          try {
            cart = JSON.parse(localStorage.getItem("shopCart")) || [];
          } catch (e) {
            console.error("Error loading cart:", e);
            cart = [];
          }
        }

        function updateButtonCount(button) {
          const name = button.getAttribute("data-name");
          const item = cart.find((i) => i.name === name);
          const countSpan = button.querySelector(".item-count");
          if (countSpan) {
            countSpan.textContent = item ? item.quantity : 0;
          }
        }

        function updateAllCounts() {
          document.querySelectorAll(".add-to-cart").forEach(updateButtonCount);
        }

        // Add click handlers to all "Add to Cart" buttons
        document.querySelectorAll(".add-to-cart").forEach((btn) => {
          btn.addEventListener("click", () => {
            const name = btn.getAttribute("data-name");
            const price = parseFloat(btn.getAttribute("data-price"));

            loadCart(); // Reload cart in case it was modified elsewhere

            let item = cart.find((i) => i.name === name);
            if (item) {
              item.quantity = (parseInt(item.quantity) || 0) + 1;
            } else {
              cart.push({
                name: name,
                price: price,
                quantity: 1,
              });
            }

            // Save updated cart
            localStorage.setItem("shopCart", JSON.stringify(cart));

            // Update this button's count
            updateButtonCount(btn);

            // Visual feedback
            btn.classList.add("added");
            setTimeout(() => btn.classList.remove("added"), 1000);
          });
        });

        // Listen for cart changes from other pages
        window.addEventListener("storage", (e) => {
          if (e.key === "shopCart") {
            loadCart();
            updateAllCounts();
          }
        });

        // Initial load and update
        loadCart();
        updateAllCounts();
      });
    </script>
  </body>
</html>

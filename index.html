<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Scented</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Discover exquisite luxury perfumes at Kyla & Co. Premium fragrances for the discerning individual."
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <script type="module" src="script.js"></script>

    <style>
      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(-45deg, #fbeffb, #f0f8ff, #fff0f5, #e6e6fa);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .main-nav {
        width: 100%;
        background: #f0f0f0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 0;
        margin: 0 0 20px 0;
      }

      .main-nav ul {
        width: 100%;
        box-sizing: border-box;
        border-radius: 0;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
      }
      .main-nav ul li {
        margin: 0;
        padding: 0;
        flex: 1 1 120px;
        text-align: center;
      }
      .main-nav ul li a {
        display: block;
        padding: 12px 0;
        color: #333;
        text-decoration: none;
        font-size: 1em;
        border-radius: 6px;
        transition: background-color 0.3s;
        width: 100%;
        box-sizing: border-box;
      }
      .main-nav ul li a:hover {
        background-color: #e0e0e0;
        color: #000;
      }

      @media (max-width: 768px) {
        .main-nav ul {
          flex-direction: column;
          align-items: stretch;
        }
        .main-nav ul li {
          width: 100%;
          flex: none;
        }
        .main-nav ul li a {
          font-size: 1.1em;
          margin-bottom: 4px;
          padding: 14px 0;
        }
        .fragrance-grid {
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          padding: 8px;
        }
      }

      @media (max-width: 480px) {
        .main-nav ul li a {
          font-size: 1em;
          margin-bottom: 2px;
          padding: 12px 0;
        }
        .fragrance-grid {
          grid-template-columns: 1fr;
          gap: 8px;
          padding: 4px;
        }
      }
      .fragrance-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
        padding: 15px;
        width: 100%;
        box-sizing: border-box;
      }

      .fragrance {
        text-align: center;
        border: 1px solid #ddd;
        padding: 10px;
        border-radius: 8px;
        background-color: #fff;
        margin-bottom: 10px;
        box-sizing: border-box;
      }

      .fragrance img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
        margin-bottom: 8px;
      }

      .add-to-cart {
        margin-top: 10px;
        padding: 8px 16px;
        background-color: #ff6f61;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s ease;
        width: 100%;
        box-sizing: border-box;
      }

      .add-to-cart:hover {
        background-color: #e65c50;
      }
      li {
        list-style: none;
        display: flex;
        justify-content: space-around;
        margin: 20px;
        padding: 10px;
        background-color: #f0f0f0;
        border-radius: 8px;
        font-family: "Inter", sans-serif;
        font-size: 16px;
        font-weight: 500;
        color: #333;
        text-decoration: none;
        transition: background-color 0.3s ease;
      }
      li a {
        color: #333;
        text-decoration: none;
        padding: 10px;
        border-radius: 6px;
        transition: background-color 0.3s ease;
      }
      li a:hover {
        background-color: #e0e0e0;
        color: #000;
      }
      h1,
      h2,
      h3 {
        font-family: "Playfair Display", serif;
        text-align: center;
        color: #333;
        margin: 20px 0;
      }
      h1 {
        font-size: 2.5em;
        font-weight: 700;
      }

      h2 {
        font-size: 2em;
        font-weight: 600;
      }
      h3 {
        font-size: 1.5em;
        font-weight: 500;
      }
      body {
        font-family: "Inter", sans-serif;
        background-color: #f0f0f0;
        margin: 0;
        padding: 20px;
      }
      button {
        background-color: #ff6f61;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1em;
        font-weight: bold;
        transition: background-color 0.3s ease;
      }
      button:hover {
        background-color: #e65c50;
      }

      .more-wrapper {
        text-align: center;
      }

      .more {
        display: inline-block;
        padding: 6px 12px;
        background-color: #ff6f61;
        color: white;
        border-radius: 6px;
        text-decoration: none;
        font-weight: bold;
        font-size: 0.9em;
        transition: background-color 0.3s ease;
      }
      .more:hover {
        background-color: #e65c50;
        color: #fff;
      }
      @media (max-width: 768px) {
        .fragrance-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
          padding: 8px;
        }
        li {
          flex-direction: column;
          align-items: stretch;
          font-size: 15px;
          margin: 10px 0;
          padding: 8px;
          width: 100%;
          box-sizing: border-box;
        }
        li a {
          padding: 12px;
          margin-bottom: 6px;
          font-size: 1em;
          display: block;
          width: 100%;
          box-sizing: border-box;
        }
        .product-showcase {
          flex-direction: column;
          gap: 12px;
          padding: 10px;
          width: 100%;
          box-sizing: border-box;
        }
        .perfume-image {
          max-width: 100vw;
          width: 100%;
          height: auto;
        }
        .scent-description {
          max-width: 100vw;
          font-size: 1em;
          padding: 0 8px;
          width: 100%;
          box-sizing: border-box;
        }
        h1 {
          font-size: 2em;
        }
        h2 {
          font-size: 1.3em;
        }
        h3 {
          font-size: 1.1em;
        }
        button,
        .add-to-cart {
          font-size: 1em;
          padding: 10px 12px;
          width: 100%;
          box-sizing: border-box;
        }
        .more-wrapper {
          padding: 10px 0;
        }
      }

      @media (max-width: 480px) {
        .fragrance-grid {
          grid-template-columns: 1fr;
          gap: 8px;
          padding: 4px;
        }
        .fragrance {
          padding: 6px;
          font-size: 0.95em;
          width: 100%;
          box-sizing: border-box;
        }
        li {
          font-size: 14px;
          padding: 6px;
          width: 100%;
          box-sizing: border-box;
        }
        .perfume-image {
          max-width: 100vw;
          width: 100%;
          height: auto;
        }
        .scent-description {
          font-size: 0.95em;
          padding: 0 4px;
          width: 100%;
          box-sizing: border-box;
        }
        button,
        .add-to-cart {
          font-size: 0.95em;
          padding: 10px 8px;
          width: 100%;
          box-sizing: border-box;
        }
        h1 {
          font-size: 1.5em;
        }
        h2 {
          font-size: 1.1em;
        }
        h3 {
          font-size: 1em;
        }
        .more-wrapper {
          padding: 6px 0;
        }
      }
      /* REPLACED: product-showcase layout â€” image and text side-by-side */
      .product-showcase {
        max-width: 1100px;
        margin: 20px auto;
        border-radius: 12px;
        overflow: hidden;
        display: flex;
        gap: 20px;
        align-items: center;
        justify-content: space-between;
        padding: 18px;
        background: #ffffff; /* card background so image is not overlaying text */
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
        box-sizing: border-box;
      }

      /* make hero image smaller so it doesn't take the whole page */
      .perfume-image {
        width: 38%; /* reduce from ~48% */
        max-width: 380px; /* cap the image size */
        height: auto;
        border-radius: 10px;
        object-fit: cover;
        display: block;
        flex-shrink: 0;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }

      /* keep scent text area flexible beside the smaller image */
      .scent-description {
        width: calc(62% - 20px);
        color: #222;
        padding: 8px 12px;
        text-align: left;
        background: transparent;
        border-radius: 8px;
      }

      /* three small images: consistent small size and spacing */
      .three-images-row {
        max-width: 900px; /* slightly narrower container */
        margin: 12px auto 18px;
        padding: 0 12px;
        box-sizing: border-box;
      }

      .three-images {
        display: flex;
        gap: 10px;
        align-items: stretch;
        justify-content: center;
        flex-wrap: nowrap;
      }

      .three-images img {
        flex: 0 1 calc(33.333% - 8px);
        max-width: calc(33.333% - 8px);
        width: 100%;
        height: 90px; /* smaller uniform height */
        object-fit: cover; /* crop to fill small box */
        border-radius: 8px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.06);
        display: block;
        background: #fff;
      }

      /* featured product thumbnails smaller */
      .fragrance-grid {
        display: grid;
        grid-template-columns: repeat(
          auto-fill,
          minmax(200px, 1fr)
        ); /* smaller columns */
        gap: 12px;
        padding: 12px;
        width: 100%;
        box-sizing: border-box;
      }

      .fragrance img {
        max-width: 100%;
        height: 140px; /* smaller thumbnail height */
        object-fit: cover;
        border-radius: 6px;
        margin-bottom: 8px;
      }

      @media (max-width: 900px) {
        .perfume-image,
        .scent-description {
          width: 100%;
        }
        .scent-description {
          text-align: center;
        }
        .three-images img {
          height: 80px;
        }
        .fragrance img {
          height: 120px;
        }
      }

      @media (max-width: 480px) {
        .three-images {
          flex-direction: column;
        }
        .three-images img {
          width: 100%;
          height: 140px;
        }
        .fragrance img {
          height: 160px;
        }
      }

      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
      .add-to-cart.clicked {
        background-color: #e65c50;
        transform: scale(0.97);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
      }
      .main-nav {
        width: 100%;
        margin-left: -20px;
        margin-right: -20px;
        background: #f0f0f0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 10px 0;
      }

      .main-nav ul {
        width: 100%;
        box-sizing: border-box;
        border-radius: 0;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .main-nav ul li {
        margin: 0;
        padding: 0;
      }
      .main-nav ul li a {
        display: block;
        padding: 12px 18px;
        color: #333;
        text-decoration: none;
        font-size: 1em;
        border-radius: 6px;
        transition: background-color 0.3s;
        width: 100%;
        box-sizing: border-box;
      }
      .main-nav ul li a:hover {
        background-color: #e0e0e0;
        color: #000;
      }

      @media (max-width: 768px) {
        .main-nav,
        .main-nav ul {
          width: 100vw;
          border-radius: 0;
          flex-direction: column;
          align-items: stretch;
        }
        .main-nav ul li a {
          font-size: 1.1em;
          margin-bottom: 4px;
        }
        .fragrance-grid {
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          padding: 6px;
        }
      }
      @media (max-width: 480px) {
        .main-nav,
        .main-nav ul {
          width: 100vw;
          border-radius: 0;
          flex-direction: column;
          align-items: stretch;
        }
        .main-nav ul li a {
          font-size: 1em;
          margin-bottom: 2px;
        }
        .fragrance-grid {
          grid-template-columns: 1fr;
          gap: 8px;
          padding: 4px;
        }
      }

      /* Dropdown styles */
      .dropdown {
        position: relative;
        display: inline-block;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
      }

      .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      .dropdown-content a:hover {
        background-color: #f1f1f1;
      }

      .dropdown:hover .dropdown-content {
        display: block;
      }

      /* Row of three adjacent images (placed above Featured Fragrances) */
      .three-images-row {
        max-width: 1100px;
        margin: 18px auto;
        padding: 0 12px;
        box-sizing: border-box;
      }

      .three-images {
        display: flex;
        gap: 12px;
        align-items: stretch;
        justify-content: center;
        flex-wrap: nowrap; /* keep a single row on wide screens */
      }

      /* Make images full (not cropped) and responsive */
      .three-images img {
        flex: 0 1 calc(33.333% - 8px);
        max-width: calc(33.333% - 8px);
        width: 100%;
        height: auto; /* show full image, keep aspect ratio */
        object-fit: contain; /* ensure entire image is visible */
        border-radius: 8px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        display: block;
        background: #fff; /* small backdrop if image has transparency */
      }

      @media (max-width: 900px) {
        .three-images img {
          flex: 0 1 calc(50% - 6px);
          max-width: calc(50% - 6px);
        }
      }

      @media (max-width: 600px) {
        .three-images {
          flex-direction: column;
          gap: 10px;
        }
        .three-images img {
          width: 100%;
          max-width: 100%;
          flex: none;
        }
      }

      /* Layout: left sidebar + main content */
      .site-layout {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 240px 1fr;
        gap: 20px;
        padding: 0 20px 40px;
        box-sizing: border-box;
      }

      .sidebar {
        background: #fff;
        border-radius: 10px;
        padding: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.04);
        height: fit-content;
      }

      .sidebar h4 {
        margin: 0 0 10px;
        font-family: "Playfair Display", serif;
        font-size: 1.05rem;
        color: #333;
      }

      .product-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .product-list a {
        display: block;
        padding: 10px;
        border-radius: 8px;
        color: #333;
        text-decoration: none;
        background: linear-gradient(180deg, #ffffff, #fbfbfb);
        border: 1px solid #eee;
        font-weight: 600;
      }

      .product-list a:hover {
        background: #fffbf9;
        border-color: #ffdcd3;
        color: #b33a2f;
      }

      /* Footer */
      .site-footer {
        margin-top: 36px;
        background: linear-gradient(180deg, #fafafa, #f5f5f8);
        padding: 28px 20px;
        border-top: 1px solid #e9e9ef;
      }

      .footer-inner {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        align-items: start;
      }

      .footer-col h5 {
        margin: 0 0 10px;
        font-family: "Playfair Display", serif;
        font-size: 1rem;
        color: #222;
      }

      .footer-col ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .footer-col a {
        color: #555;
        text-decoration: none;
        display: block;
        margin-bottom: 8px;
        font-size: 0.95rem;
      }

      .footer-col a:hover {
        color: #000;
      }

      .socials {
        display: flex;
        gap: 10px;
        margin-top: 6px;
      }

      .socials a {
        display: inline-block;
        width: 36px;
        height: 36px;
        border-radius: 8px;
        background: #fff;
        border: 1px solid #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #333;
        text-decoration: none;
      }

      .footer-copy {
        grid-column: 1 / -1;
        margin-top: 16px;
        color: #777;
        font-size: 0.9rem;
      }

      /* Responsive: stack sidebar above content on small screens */
      @media (max-width: 900px) {
        .site-layout {
          grid-template-columns: 1fr;
          padding: 0 12px 30px;
        }
        .footer-inner {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 480px) {
        .footer-inner {
          grid-template-columns: 1fr;
        }
      }

      /* Simplified footer styles */
      .site-footer {
        background: #f9f9f9;
        padding: 20px;
        border-top: 1px solid #e0e0e0;
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
      }

      .footer-links {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
      }

      .footer-links a {
        color: #333;
        text-decoration: none;
        font-size: 0.9rem;
        transition: color 0.3s;
      }

      .footer-links a:hover {
        color: #ff6f61;
      }

      .social-links {
        display: flex;
        gap: 10px;
      }

      .social-links a {
        display: inline-block;
        width: 36px;
        height: 36px;
        border-radius: 8px;
        background: #fff;
        border: 1px solid #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #333;
        text-decoration: none;
      }

      .copyright {
        color: #777;
        font-size: 0.85rem;
        text-align: center;
      }

      @media (max-width: 600px) {
        .footer-content {
          padding: 0 12px;
        }
        .footer-links {
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
  </head>

  <body>
    <h1>SCENTED</h1>
    <h2>DISCOVER YOUR SIGNATURE SCENT!!!</h2>

    <nav class="main-nav">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li class="dropdown">
          <a href="javascript:void(0)">Products</a>
          <div class="dropdown-content">
            <a href="perfumes-for-her.html">Perfumes for Her</a>
            <a href="perfumes-for-him.html">Perfumes for Him</a>
          </div>
        </li>

        <!-- Search form -->
        <li>
          <form
            id="searchForm"
            style="
              display: flex;
              gap: 6px;
              align-items: center;
              justify-content: center;
            "
          >
            <input
              id="searchInput"
              type="search"
              placeholder="Search perfumes..."
              aria-label="Search perfumes"
              style="
                padding: 6px 8px;
                border-radius: 6px;
                border: 1px solid #ddd;
              "
            />
            <button
              type="submit"
              style="
                padding: 6px 10px;
                border-radius: 6px;
                border: none;
                background: #ff6f61;
                color: #fff;
                cursor: pointer;
              "
            >
              Search
            </button>
          </form>
        </li>

        <li>
          <a href="cart.html" class="cart-link"
            >ðŸ›’ View Cart (<span id="cart-count">0</span>)</a
          >
        </li>
      </ul>
    </nav>

    <!-- new layout: sidebar + main -->
    <div class="site-layout">
      <!-- sidebar: product list -->
      <aside class="sidebar" aria-label="Product categories">
        <h4>Products</h4>
        <ul class="product-list">
          <li><a href="perfumes-for-her.html">Perfumes for Her</a></li>
          <li><a href="perfumes-for-him.html">Perfumes for Him</a></li>
        </ul>
      </aside>

      <!-- main content (hero, banners, featured) -->
      <main>
        <!-- Search results will appear here -->
        <section
          id="searchResults"
          style="
            max-width: 1100px;
            margin: 12px auto;
            padding: 0 12px;
            display: none;
          "
        >
          <div
            id="searchResultsInner"
            style="
              background: #fff;
              padding: 12px;
              border-radius: 8px;
              box-shadow: 0 6px 18px rgba(0, 0, 0, 0.04);
            "
          ></div>
        </section>
        <section class="product-showcase" aria-label="Hero">
          <img src="Me.jpg" alt="Scented Perfumes" class="perfume-image" />
          <div class="scent-description" aria-hidden="false">
            <h2>Scented Perfumes</h2>
            <p>
              Inspired by icons. Designed for individuality. We craft premium,
              gender-neutral fragrances that echo the worldâ€™s most beloved
              designer scentsâ€”reimagined with our own modern twist. Minimal.
              Memorable. Made to move with you.
            </p>
            <button>SHOP NOW</button>
          </div>
        </section>

        <section class="three-images-row" aria-label="Featured banners">
          <div class="three-images">
            <img src="image1.jpg" alt="Banner 1" />
            <img src="image2.jpg" alt="Banner 2" />
            <img src="image3.jpg" alt="Banner 3" />
          </div>
        </section>
      </main>
    </div>

    <!-- footer -->
    <footer class="site-footer">
      <div class="footer-content">
        <nav class="footer-links">
          <a href="about.html">About</a>
          <a href="careers.html">Careers</a>
          <a href="faq.html">FAQs</a>
          <a href="contact.html">Contact</a>
          <a href="shipping.html">Shipping & Returns</a>
          <a href="terms.html">Terms & Privacy</a>
        </nav>
        <div class="social-links">
          <a
            href="https://www.facebook.com/profile.php?id=61558027613981&sk=about"
            aria-label="Facebook"
            target="_blank"
          >
            <i class="fab fa-facebook-f"></i>
          </a>
          <a
            href="https://www.instagram.com/scentedperfumes1/"
            aria-label="Instagram"
            target="_blank"
          >
            <i class="fab fa-instagram"></i>
          </a>
          <a
            href="https://x.com/Scented6630901"
            aria-label="Twitter"
            target="_blank"
          >
            <i class="fab fa-twitter"></i>
          </a>
        </div>
        <div class="copyright">
          Â© <span id="year"></span> Scented â€” All rights reserved.
        </div>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        let cart = JSON.parse(localStorage.getItem("shopCart")) || [];
        localStorage.setItem("shopCart", JSON.stringify(cart));
        const cartDisplay = document.getElementById("cart-count");
        const addButtons = document.querySelectorAll(".add-to-cart");
        const searchForm = document.getElementById("searchForm");
        const searchInput = document.getElementById("searchInput");
        const searchResultsSection = document.getElementById("searchResults");
        const searchResultsInner =
          document.getElementById("searchResultsInner");

        // Replace the PRODUCTS list and renderSearchResults with exact perfume names
        const PRODUCTS = [
          // Perfumes for Her (matches names used on perfumes-for-her.html)
          { name: "Burberry Her", page: "perfumes-for-her.html" },
          { name: "Scandal for women", page: "perfumes-for-her.html" },
          { name: "Pink Chiffon", page: "perfumes-for-her.html" },
          { name: "Lady Million", page: "perfumes-for-her.html" },
          { name: "Armani Si", page: "perfumes-for-her.html" },
          { name: "Avon Faraway", page: "perfumes-for-her.html" },
          { name: "Carolina Herrera Good Girl", page: "perfumes-for-her.html" },
          { name: "Chanel No.5", page: "perfumes-for-her.html" },
          { name: "Jimmy Choo", page: "perfumes-for-her.html" },
          { name: "YSL Black Opium", page: "perfumes-for-her.html" },
          { name: "Yardley White Satin", page: "perfumes-for-her.html" },
          { name: "Victoria Secret", page: "perfumes-for-her.html" },

          // Perfumes for Him (matches names used on perfumes-for-him.html)
          { name: "Sauvage Dior", page: "perfumes-for-him.html" },
          { name: "Bvlgari Man", page: "perfumes-for-him.html" },
          { name: "212 VIP Man", page: "perfumes-for-him.html" },
          {
            name: "Christian Dior Sauvage Elixir",
            page: "perfumes-for-him.html",
          },
          { name: "Diesel Bad", page: "perfumes-for-him.html" },
          { name: "Diesel Only The Brave", page: "perfumes-for-him.html" },
          { name: "Dunhill Desire Blue", page: "perfumes-for-him.html" },
          { name: "Givenchy Blue", page: "perfumes-for-him.html" },
          { name: "Hermes Terre D'Hermes", page: "perfumes-for-him.html" },
          { name: "Hugo Boss", page: "perfumes-for-him.html" },
          { name: "Scandal for Men", page: "perfumes-for-him.html" },
          { name: "Jo Malone Pomegranate Noir", page: "perfumes-for-him.html" },

          // Perfumes for Him (matches names used on perfumes-for-him-more.html)
          { name: "Tsar Gold", page: "perfumes-for-him-more.html" },
          {
            name: "Paco Rabanne One Million Elixir",
            page: "perfumes-for-him-more.html",
          },
          { name: "Tom Ford Noir", page: "perfumes-for-him-more.html" },
          { name: "Paco Rabanne Invictus", page: "perfumes-for-him-more.html" },
          { name: "Hugo Boss Orange", page: "perfumes-for-him-more.html" },
          { name: "Dunhill Desire Black", page: "perfumes-for-him-more.html" },
          {
            name: "Christian Dior Homme Intense",
            page: "perfumes-for-him-more.html",
          },
          { name: "Armani Black Code", page: "perfumes-for-him-more.html" },

          // Perfumes for Him (matches names used on perfumes-for-her-more.html)
          { name: "Coco", page: "perfumes-for-her-more.html" },
          { name: "DKNY", page: "perfumes-for-her-more.html" },
          {
            name: "Elizabeth Arden Red Door",
            page: "perfumes-for-her-more.html",
          },
          {
            name: "Estee Lauder Beautiful",
            page: "perfumes-for-her-more.html",
          },
          { name: "Fire and Ice", page: "perfumes-for-her-more.html" },
          { name: "Paco Rabbane Olympea", page: "perfumes-for-her-more.html" },
          { name: "Hugo Boss Femme", page: "perfumes-for-her-more.html" },
          {
            name: "Elizabeth Arden Sunflowers",
            page: "perfumes-for-her-more.html",
          },
        ];

        // Search handler: tokenize query and match against product name tokens (case-insensitive)
        function renderSearchResults(query) {
          const q = (query || "").trim().toLowerCase();
          if (!q) {
            searchResultsSection.style.display = "none";
            searchResultsInner.innerHTML = "";
            return;
          }

          // split query into tokens to allow multi-word matching
          const tokens = q.split(/\s+/).filter(Boolean);

          const matches = PRODUCTS.filter((p) => {
            const nameLower = p.name.toLowerCase();
            // requirement: every token must appear in the product name
            return tokens.every((t) => nameLower.includes(t));
          });

          if (matches.length) {
            searchResultsInner.innerHTML =
              `<h3>Search results for "${escapeHtml(query)}"</h3>` +
              `<ul style="list-style:none;padding:0;margin:8px 0;display:grid;gap:8px;">` +
              matches
                .map(
                  (m) => `
                <li style="padding:8px;border-radius:6px;border:1px solid #eee;display:flex;justify-content:space-between;align-items:center;">
                  <span>${escapeHtml(m.name)}</span>
                  <a href="${
                    m.page
                  }" style="background:#ff6f61;color:#fff;padding:6px 10px;border-radius:6px;text-decoration:none;">View</a>
                </li>
              `
                )
                .join("") +
              `</ul>`;
          } else {
            const contactUrl = `contact.html?product=${encodeURIComponent(
              query
            )}`;
            searchResultsInner.innerHTML = `<h3>No results for "${escapeHtml(
              query
            )}"</h3>
              <p style="margin:6px 0;">This perfume isn't in stock. <a href="${contactUrl}" style="color:#ff6f61;text-decoration:none;">Contact us</a> to ask about it.</p>`;
          }

          searchResultsSection.style.display = "block";
          searchResultsSection.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
        }

        // simple HTML escape for small strings
        function escapeHtml(s) {
          return String(s).replace(
            /[&<>"']/g,
            (c) =>
              ({
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
              }[c])
          );
        }

        if (searchForm) {
          searchForm.addEventListener("submit", (e) => {
            e.preventDefault();
            renderSearchResults(searchInput.value || "");
          });
        }

        function updateCartCount() {
          let total = cart.reduce((sum, item) => sum + item.quantity, 0);
          cartDisplay.textContent = total;
        }

        function updateButtonCount(button, name) {
          let item = cart.find((i) => i.name === name);
          const countSpan = button.querySelector(".item-count");
          countSpan.textContent = item ? item.quantity : 0;
        }

        addButtons.forEach((button) => {
          const fragranceName = button.getAttribute("data-name");
          updateButtonCount(button, fragranceName);

          button.addEventListener("click", () => {
            const price = parseFloat(
              button.getAttribute("data-price").replace("R", "")
            );

            let item = cart.find((i) => i.name === fragranceName);
            if (item) {
              item.quantity += 1;
            } else {
              cart.push({ name: fragranceName, price: price, quantity: 1 });
            }
            localStorage.setItem("shopCart", JSON.stringify(cart));
            updateCartCount();
            updateButtonCount(button, fragranceName);

            // Animate button
            button.classList.add("clicked");
            setTimeout(() => button.classList.remove("clicked"), 150);
          });
        });

        updateCartCount();
        // if search query passed via URL (from contact link), prefill and run search
        const params = new URLSearchParams(location.search);
        if (params.has("q") || params.has("product")) {
          const q = params.get("q") || params.get("product") || "";
          if (q && searchInput) {
            searchInput.value = q;
            renderSearchResults(q);
          }
        }
      });
    </script>
  </body>
</html>
